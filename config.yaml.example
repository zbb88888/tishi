# tishi 配置文件
# 所有配置项均可通过环境变量覆盖 (TISHI_DATABASE_HOST 或 DB_HOST)

database:
  host: localhost
  port: 5432
  name: tishi_db
  user: tishi
  password: ""
  sslmode: disable
  max_open_conns: 10
  max_idle_conns: 5
  conn_max_lifetime: 1h

server:
  host: 0.0.0.0
  port: 8080
  read_timeout: 10s
  write_timeout: 30s
  idle_timeout: 60s

github:
  tokens: []
  search_queries:
    - "topic:llm stars:>100"
    - "topic:large-language-model stars:>100"
    - "topic:ai-agent stars:>100"
    - "topic:machine-learning stars:>500"
    - "topic:deep-learning stars:>500"
    - "topic:stable-diffusion stars:>100"
    - "topic:rag stars:>100"
    - "topic:transformers stars:>200"
    - "topic:vector-database stars:>100"
    - "topic:text-to-speech stars:>100"
    - "topic:generative-ai stars:>100"

collector:
  top_n: 100
  min_stars: 100
  timeout: 30m
  retry_max: 3

analyzer:
  weights:
    daily_star: 0.30
    weekly_star: 0.25
    fork_ratio: 0.15
    issue_activity: 0.15
    recency: 0.15

scheduler:
  collect_cron: "0 0 * * *"      # 每天 00:00
  analyze_cron: "0 1 * * *"      # 每天 01:00
  build_cron: "0 2 * * *"        # 每天 02:00
  weekly_cron: "0 6 * * 0"       # 每周日 06:00
  monthly_cron: "0 6 1 * *"      # 每月 1 日 06:00

logging:
  level: info     # debug / info / warn / error
  format: json    # json / console

site:
  domain: localhost
  title: "tishi — AI 开源趋势追踪"
  description: "追踪 GitHub AI Top 100 热门项目"
