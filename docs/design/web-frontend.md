# å‰ç«¯å±•ç¤ºæ¨¡å—è®¾è®¡ï¼ˆWeb Frontendï¼‰

## æ¦‚è¿°

tishi å‰ç«¯ä½¿ç”¨ Astro æ„å»ºï¼Œv1.0 åˆ‡æ¢ä¸ºçº¯ SSG æ¨¡å¼ï¼ˆ`output: 'static'`ï¼‰ã€‚æ„å»ºæ—¶ç›´æ¥è¯»å– `data/*.json` æ–‡ä»¶ï¼Œç”Ÿæˆçº¯é™æ€ HTMLï¼Œç”± Nginx/CDN æ‰˜ç®¡ã€‚

## v1.0 å…³é”®å˜æ›´

| ç»´åº¦ | v0.x | v1.0 |
|------|------|------|
| è¾“å‡ºæ¨¡å¼ | SSR (`@astrojs/node`) | **SSG (`output: 'static'`)** |
| æ•°æ®æ¥æº | HTTP API (`fetch`) | **ç›´æ¥è¯»å– JSON æ–‡ä»¶** |
| æ–°å¢å†…å®¹ | - | **é¡¹ç›®æ·±åº¦åˆ†ææŠ¥å‘Šï¼ˆLLM ç”Ÿæˆï¼‰** |
| åˆ†ç±»é¡µé¢ | åŸºç¡€åˆ†ç±» | **12 ä¸ª AI å­æ–¹å‘åˆ†ç±»é¡µ** |

## é¡µé¢ç»“æ„

```
/                              â† é¦–é¡µï¼šä»Šæ—¥ AI Trending æ’è¡Œæ¦œ
/projects/{owner}__{repo}      â† é¡¹ç›®è¯¦æƒ… + LLM ä¸­æ–‡åˆ†ææŠ¥å‘Š
/categories                    â† 12 ä¸ª AI åˆ†ç±»æµè§ˆ
/categories/{slug}             â† åˆ†ç±»ä¸‹é¡¹ç›®åˆ—è¡¨
/blog                          â† åšå®¢æ–‡ç« åˆ—è¡¨ï¼ˆå‘¨æŠ¥/æœˆæŠ¥/Spotlightï¼‰
/blog/{slug}                   â† åšå®¢æ–‡ç« è¯¦æƒ…
/404                           â† 404 é¡µé¢
```

## é¡µé¢è®¾è®¡

### é¦–é¡µ (`/`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”¥ tishi â€” AI å¼€æºé¡¹ç›®æ·±åº¦åˆ†æ                    â”‚
â”‚                                                  â”‚
â”‚  ä»Šæ—¥æ›´æ–°: 2025-07-15 | AI é¡¹ç›®: 50              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ä»Šæ—¥ AI Trending æ’è¡Œæ¦œ                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚æ’åâ”‚ é¡¹ç›®          â”‚ åˆ†ç±»   â”‚ æ€»Star â”‚ æ—¥å¢  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 1  â”‚ langchain    â”‚ LLM    â”‚ 95.2k  â”‚ +523 â”‚ â”‚
â”‚  â”‚ 2  â”‚ ollama       â”‚ LLM    â”‚ 88.1k  â”‚ +412 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  ğŸ·ï¸ AI åˆ†ç±»å¯¼èˆª                                  â”‚
â”‚  [LLM] [Agent] [RAG] [Diffusion] [MLOps] ...   â”‚
â”‚                                                  â”‚
â”‚  ğŸ“ æœ€æ–°åšå®¢                                     â”‚
â”‚  â€¢ AI å¼€æºå‘¨æŠ¥ #29 | 2025-07-20                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡¹ç›®è¯¦æƒ…é¡µ (`/projects/{id}`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  langchain-ai/langchain                          â”‚
â”‚  ğŸ·ï¸ LLM Â· Agent Â· Framework                     â”‚
â”‚  â­ 95,234 | ğŸ´ 15,432 | ğŸ“ Python             â”‚
â”‚  ğŸ”¥ è¯„åˆ†: 92.5 | æ’å: #1                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  ğŸ“‹ é¡¹ç›®åˆ†æï¼ˆAI ç”Ÿæˆï¼‰                           â”‚
â”‚                                                  â”‚
â”‚  **å®šä½**: æ„å»ºæ„ŸçŸ¥ä¸Šä¸‹æ–‡çš„æ¨ç†åº”ç”¨æ¡†æ¶...          â”‚
â”‚                                                  â”‚
â”‚  **æ ¸å¿ƒåŠŸèƒ½**:                                    â”‚
â”‚  â€¢ Chain é“¾å¼è°ƒç”¨                                â”‚
â”‚  â€¢ Agent è‡ªä¸»å†³ç­–                                â”‚
â”‚  â€¢ RAG æ£€ç´¢å¢å¼º                                  â”‚
â”‚                                                  â”‚
â”‚  **æŠ€æœ¯ä¼˜åŠ¿**: ç›¸æ¯” LlamaIndex æ›´çµæ´»...          â”‚
â”‚                                                  â”‚
â”‚  **é€‚ç”¨åœºæ™¯**: ä¼ä¸šçŸ¥è¯†åº“ã€å®¢æœæœºå™¨äºº...            â”‚
â”‚                                                  â”‚
â”‚  **åŒç±»å¯¹æ¯”**:                                    â”‚
â”‚  vs LlamaIndex â€” åŠŸèƒ½æ›´å…¨é¢ä½†å­¦ä¹ æ›²çº¿é™¡           â”‚
â”‚  vs Haystack   â€” ç¤¾åŒºæ›´æ´»è·ƒ                      â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Star å¢é•¿è¶‹åŠ¿                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚    [30å¤©è¶‹åŠ¿å›¾è¡¨ - Chart.js Island]      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®åŠ è½½

v1.0 ä¸å†è°ƒç”¨ HTTP APIï¼Œç›´æ¥è¯»å– `data/` ç›®å½•çš„ JSON æ–‡ä»¶ï¼š

```typescript
// web/src/lib/data.ts
import fs from 'fs';
import path from 'path';

const DATA_DIR = path.resolve(import.meta.env.DATA_DIR || '../data');

export function getLatestRanking(): Ranking {
  const dir = path.join(DATA_DIR, 'rankings');
  const files = fs.readdirSync(dir).filter(f => f.endsWith('.json')).sort().reverse();
  return JSON.parse(fs.readFileSync(path.join(dir, files[0]), 'utf-8'));
}

export function getProject(id: string): Project {
  return JSON.parse(fs.readFileSync(path.join(DATA_DIR, 'projects', `${id}.json`), 'utf-8'));
}

export function getAllProjects(): Project[] {
  const dir = path.join(DATA_DIR, 'projects');
  return fs.readdirSync(dir)
    .filter(f => f.endsWith('.json'))
    .map(f => JSON.parse(fs.readFileSync(path.join(dir, f), 'utf-8')));
}

export function getPublishedPosts(): Post[] {
  const dir = path.join(DATA_DIR, 'posts');
  return fs.readdirSync(dir)
    .filter(f => f.endsWith('.json'))
    .map(f => JSON.parse(fs.readFileSync(path.join(dir, f), 'utf-8')))
    .sort((a, b) => b.published_at.localeCompare(a.published_at));
}
```

## Astro é…ç½®å˜æ›´

```javascript
// astro.config.mjs
import { defineConfig } from 'astro/config';
import tailwind from '@astrojs/tailwind';

export default defineConfig({
  output: 'static',           // çº¯ SSGï¼Œç§»é™¤ SSR
  // adapter: node() â€” å·²ç§»é™¤
  integrations: [tailwind()],
  site: 'https://tishi.example.com',
});
```

## å›¾è¡¨

ä½¿ç”¨ **Chart.js** åœ¨ Astro Island ä¸­æ¸²æŸ“ï¼š

- Star å¢é•¿æŠ˜çº¿å›¾ï¼ˆ30å¤©/90å¤©ï¼‰
- åˆ†ç±»å æ¯”é¥¼å›¾

```astro
---
import TrendChart from '../components/TrendChart.tsx';
const snapshots = getProjectSnapshots(project.id);
---
<TrendChart client:visible data={snapshots} />
```

## æ ·å¼

- Tailwind CSSï¼ˆåŸå­åŒ–ï¼Œæ„å»ºæ—¶ purgeï¼‰
- å“åº”å¼ï¼šç§»åŠ¨ç«¯ä¼˜å…ˆ
- ä¸­æ–‡æ’ç‰ˆä¼˜åŒ–

## æ„å»º

```bash
cd web && npm run build    # è¾“å‡ºåˆ° dist/
```

æ„å»ºäº§ç‰©éƒ¨ç½²åˆ° Stage 3 çš„ Nginx æˆ– CDNã€‚

## ç›¸å…³æ–‡æ¡£

- [å­˜å‚¨è®¾è®¡](storage.md) â€” data/ ç›®å½•ç»“æ„
- [å†…å®¹ç”Ÿæˆ](content-generator.md) â€” åšå®¢å†…å®¹æ¥æº
- [éƒ¨ç½²æ‹“æ‰‘](../architecture/deployment-topology.md) â€” é™æ€æ–‡ä»¶æ‰˜ç®¡
